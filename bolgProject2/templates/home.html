{%extends 'base.html' %}

{%block content %} 
<h1> This is home page</h1>
<div class="d-flex flex-wrap p-4"> 
  <div class="col-2 bg-white p-4">
    {% for cat in category %}
    <div>
        <input class="form-check-input" type="radio"
         name="category"  
        id="{{ cat.id }}"
        />
        <label class="form-check-label" for="{{ cat.id }}">
          <a class="text-decoration-none text-dark" href="{% url 'category_wise_post' cat.slug %}">{{ cat.name }}</a>
        </label>
    </div>
    {% endfor %}
</div>

  <div class="col-10 p-4">
    <h1>{{data |length}} Result found</h1>
    <div class="d-flex flex-wrap  px-5 pt-5">
      {% for post in data %}
    <div class="col-sm-3">
        <div class="card mx-2">
            <div class="card-body">
                {% if post.image %}
                    <img src="{{ post.image.url }}" class="card-img-top" alt="...">
                {% endif %}
                <h5 class="card-title"><a href="{% url 'details' post.id %}" class="text-decoration-none text-dark">{{ post.title }}</a></h5>
                <p class="card-text">{{ post.content|truncatewords:10 }}</p>
                <p>Author: {{ post.author.first_name }} {{ post.author.last_name }}</p>
                <p>Categories:</p>
                <ul>
                    {% for cat in post.categories.all %}
                        <li>{{ cat.name }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
{% endfor %}

      </div>
  </div>
</div>


{% endblock%}